<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async & Await</title>
</head>
<body>
    <script>

createVideo("https://justnaija.com/video/download/943/").then(
 play()

 ).catch(function(error) {
     alert(err.message())

 })

 async function createVideo(videoSource)
{
        await new Promise(function(resolve, reject){
                let video = document.createElement('video')
                let source = document.createElement('source')
                video.setAttribute('controls', 'controls')
                video.setAttribute('id', 'video')
                source.src = videoSource
                source.type = "video/mp4"
                video.appendChild(source)

                video.onload = ()=> resolve(video)
                

                video.onerror = ()=>
                    reject(new Error("not valid"))
                

                  document.body.appendChild(video)
                })
            }

          async  function play() {
              await new Promise(function(resolve, reject){
              var video = document.getElementById('video');
              resolve(video.play());


                })

             }


    </script>
</body>
</html>